@use '@mixins' as *;

.projects {
	height: 100vh;
	width: 100vw;
	position: relative;
	color: var(--color-black);
	overflow: hidden;

	:global(#scrollProgress) {
		position: absolute;
		top: vw(64.5);
		right: vw(20);
		bottom: auto;
		z-index: 20;
	}

	.content {
		z-index: 30;
		display: flex;
		align-items: center;

		@include desktop {
			position: absolute;
			inset: 50% vw(20) auto vw(20);
			transform: translateY(-50%);
		}

		.texts {
			width: vw(280);
			font-size: vw(16);
			line-height: 1.5;
			font-weight: 300;
			position: relative;
			z-index: 20;

			@include mobile {
				display: none;
			}

			strong {
				font-weight: 500;
				display: inline-block;
			}

			& > div:nth-child(1) {
				position: relative;
				z-index: 50;
			}

			& > div:not(:nth-child(1)) {
				@include absolute;
				width: 100%;
			}
		}

		.medias {
			width: vw(600);
			height: vw(360);
			margin: 0 vw(200) 0 vw(120);
			position: relative;
			z-index: 40;

			@include mobile {
				@include absolute;
				width: vw(260, 'mobile');
				height: vw(260, 'mobile');
				margin: 0;
			}

			& > div {
				@include absoluteFull;
				overflow: hidden;
				transform-origin: center center;

				&:nth-child(1) {
					@include absolute;
				}

				.container {
					width: 120%;
					height: 100%;
					position: absolute;
					top: 0;
					left: 0%;
				}

				img,
				video {
					@include img;
				}

				.canvasContainer {
					overflow: hidden;
					width: 100%;
					height: 100%;

					canvas {
						width: 100%;
						height: 100%;
						object-fit: cover; // Ensures proper aspect ratio
					}
				}
			}
		}

		.infos {
			flex: 1;
			position: relative;
			z-index: 20;

			@include mobile {
				margin-top: vw(160, 'mobile');
			}

			& > div {
				display: flex;

				@include mobile {
					gap: vw(20, 'mobile');
					padding: 0 vw(20, 'mobile');
					justify-content: space-between;
				}

				@include desktop {
					flex-direction: column;
					gap: vw(60);
				}

				&:nth-child(1) {
					position: relative;
					z-index: 50;
				}

				&:not(:nth-child(1)) {
					@include absolute;
					width: 100%;
				}

				h3 {
					line-height: 1.6;
					font-size: vw(14);
					font-weight: 300;
					margin-bottom: vw(16);
					display: block;

					@include mobile {
						font-size: vw(16, 'mobile');
						margin-bottom: vw(20, 'mobile');
					}
				}

				span,
				a,
				h2 {
					font-size: vw(18);
					font-weight: 400;
					line-height: 1.3;
					display: block;
					margin-bottom: vw(12);

					@include mobile {
						font-size: vw(18, 'mobile');
						margin-bottom: vw(12, 'mobile');
					}

					&:last-child {
						margin-bottom: 0;
					}
				}

				strong {
					font-weight: 400;
					color: var(--color-orange);
				}

				a {
					color: var(--color-orange);
					text-decoration: underline;

					&:hover {
						text-decoration: none;
					}
				}

				.infoEmail {
					overflow: hidden;
					position: relative;

					@include desktop {
						&:hover {
							& > span {
								&:nth-child(1) {
									transform: translateY(-100%);
								}

								&:nth-child(2) {
									transform: translateY(0%);
								}
							}
						}
					}

					& > span {
						margin-bottom: 0;
						transition: 0.4s ease-out;

						&:nth-child(1) {
							@include mobile {
								display: none;
							}
						}

						&:nth-child(2) {
							@include desktop {
								position: absolute;
								top: 0;
								left: 0;
								transform: translateY(100%);
								cursor: pointer;
								text-wrap: nowrap;
								width: fit-content;
							}
						}
					}
				}
			}
		}
	}

	.mobileFooter {
		position: absolute;
		height: 50vh;
		bottom: 0;
		left: 0;
		right: 0;
		background: #232625;
		color: var(--color-white);
		z-index: 30;

		a {
			position: absolute;
			top: 50%;
			left: 50%;
			transform: translate(-50%, -50%);
			font-family: var(--font-hc);
			font-size: vw(22, 'mobile');
			text-decoration: underline;
			text-transform: uppercase;
			width: fit-content;
			text-wrap: nowrap;

			&:hover {
				text-decoration: none;
			}
		}
	}

	.projectsWrapper {
		position: absolute;
		z-index: 20;
		font-size: vw(120);
		line-height: 1;
		font-weight: 600;
		text-transform: uppercase;
		display: flex;
		gap: vw(20);
		flex-wrap: nowrap;
		bottom: vw(-30);
		left: 0;
		padding: 0 vw(20);
		width: max-content;
		will-change: transform;

		.link {
			position: relative;
			will-change: transform;
			overflow: hidden;

			:global(.char) {
				position: relative;
				display: inline-block;
				will-change: transform;
			}

			& > span,
			& > a {
				position: relative;
				display: inline-block;
				overflow: hidden;
			}

			span {
				white-space: nowrap;

				&:nth-child(1) {
					opacity: 0.8;
				}

				&:nth-child(2) {
					position: absolute;
					top: 0;
					left: 0;
					color: var(--color-orange);
				}
			}
		}
	}

	.background {
		position: absolute;
		height: 140vh;
		width: 110vw;
		bottom: -5vh;
		left: -5vw;

		video {
			@include img;
		}
	}
}
